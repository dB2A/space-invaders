<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Space Invaders Div</title>
        <link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/draw.css">
        <link rel="stylesheet" href="css/transition.css">
        <script type="text/javascript">
            function animateInvader() {
                var el = updateTransition();
                el.addEventListener("webkitTransitionEnd", updateTransition, true);  
            }

            function updateTransition() {
                var el = document.querySelector("div.invader.west");

                if (el) {
                    el.className = "invader east";
                } else {
                    el = document.querySelector("div.invader.east");
                    el.className = "invader west";
                }

                return el;
            }
        </script>
    </head>
    <body onload="animateInvader()">
        <div class="invader west">
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
            <div class="block"></div>
        </div>
    </body>
</html>
